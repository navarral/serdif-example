@prefix rr: 			<http://www.w3.org/ns/r2rml#> .
@prefix rrf: 			<http://kdeg.scss.tcd.ie/ns/rrf#> .
@prefix rdfs: 			<http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: 			<http://www.w3.org/2001/XMLSchema#> .
@prefix dct: 			<http://purl.org/dc/terms/> .
@prefix dcat: 			<http://www.w3.org/ns/dcat#> .
@prefix geo: 			<http://www.opengis.net/ont/geosparql#>.

@prefix qb:  			<http://purl.org/linked-data/cube#> .

@prefix prov:			<http://www.w3.org/ns/prov#> .
@prefix eg:  			<http://example.org/ns#> .


<#MapEvent>

	rr:logicalTable [ 
		 rr:sqlQuery """SELECT * FROM RndHealthEvents_Ireland""";
	] ;
		
	rr:subjectMap [
		rr:template "http://example.org/ns#event-{EVID}" ;
		rr:termType rr:IRI ;
		rr:class prov:Activity ;
	];		
	
	rr:predicateObjectMap [
		rr:predicate rdfs:label ;
		rr:objectMap	[
			rr:column "EVENTTYPE";
			rr:termType rr:Literal ;
			rr:language "en" ;
		];
	];
   	
	rr:predicateObjectMap [
		rr:predicate rdfs:comment ;
		rr:objectMap  [ 
			rr:template "{EVENTTYPE} flare event for individual {INDID}" ;
			rr:termType rr:Literal ;
			rr:language "en" ;
		];		
    ];
    
    rr:predicateObjectMap [
		rr:predicate prov:wasAssociatedWith ;
		rr:objectMap  [ 
			rr:template "http://example.org/ns#ID-{INDID}" ;
			rr:termType rr:IRI ;
			rr:class prov:Agent ;
		];		
    ];
    
    rr:predicateObjectMap [
		rr:predicate prov:startedAtTime ;
		rr:objectMap	[
			rr:column "DATE";
			rr:termType rr:Literal ;
			rr:dataType xsd:dateTime ;
		];
	];
	
	rr:predicateObjectMap [
		rr:predicate prov:atLocation ;
		rr:objectMap  [ 
			rr:template "http://example.org/ns#ID-{INDID}-geo" ;
			rr:termType rr:IRI ;
			rr:class geo:Geometry, prov:Location ;
		];		
    ];	
.

<#MapEventGeo>

	rr:logicalTable [ 
		 rr:sqlQuery """SELECT INDID, LAT, LON FROM RndHealthEvents_Ireland""";
	] ;
		
	rr:subjectMap [
		rr:template "http://example.org/ns#ID-{INDID}-geo" ;
		rr:termType rr:IRI ;
		rr:class geo:Geometry, prov:Location ;
	];		
	
	rr:predicateObjectMap [
		rr:predicate geo:asWKT ;
		rr:objectMap	[
			rr:template "POINT({LON} {LAT})" ;
			rr:termType rr:Literal ;
			rr:dataType geo:wktLiteral ;
		];
	];
.

<#MapEventIndividual>

	rr:logicalTable [ 
		 rr:sqlQuery """SELECT INDID FROM RndHealthEvents_Ireland""";
	] ;
		
	rr:subjectMap [
		rr:template "http://example.org/ns#ID-{INDID}" ;
		rr:termType rr:IRI ;
		rr:class prov:Agent ;
	];		
	
	rr:predicateObjectMap [
		rr:predicate rdfs:label ;
		rr:objectMap	[
			rr:template "Individual with ID {INDID}" ;
			rr:termType rr:Literal ;
			rr:language "en" ;
		];
	];
	
	rr:predicateObjectMap [
		rr:predicate dct:identifier ;
		rr:objectMap	[
			rr:column "INDID";
			rr:termType rr:Literal ;
		];
	];
.
